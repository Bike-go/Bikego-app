{% extends '__main.jinja' %}

{% block content %}
<section class="news_page">
    <div class="title">Novinky</div>
    <div class="text">
        <p>Objevte nejnovější informace, aktuality a zajímavosti ze světa BikeGo a našeho bikeparku.</p>
    </div>

    <div class="news_list">
        {% for news in news_items %}
        <article class="news_item" role="article">
            <a href="" class="news_title" title="{{ news.title }}">{{ news.title }}</a>
            <p class="news_date">{{ news.published_at.strftime('%d. %B %Y') }}</p>
            <p class="news_excerpt">{{ news.content[:100] }}...</p>
        </article>
        {% endfor %}

        {% if news_items|length == 0 %}
        <p class="no_news">Momentálně nejsou k dispozici žádné novinky.</p>
        {% endif %}
    </div>

    <!-- Pagination Controls -->
    <div class="pagination">
        {% if current_page > 1 %}
        <a href="?limit={{ limit }}&offset={{ (current_page - 2) * limit }}" class="btn pagination_btn">Předchozí</a>
        {% endif %}

        <span class="pagination_info">Stránka {{ current_page }} z {{ total_pages }}</span>

        {% if current_page < total_pages %}
        <a href="?limit={{ limit }}&offset={{ current_page * limit }}" class="btn pagination_btn">Další</a>
        {% endif %}
    </div>
</section>
{% endblock %}